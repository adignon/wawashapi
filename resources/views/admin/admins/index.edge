@layout.admin({ title: 'Manage Admins', pageTitle: 'Admin Management' })

@slot('topbarActions')
  <a href="{{ route('admin.admins.create') }}" class="btn btn-primary">
    <span>+</span>
    <span>Add Admin</span>
  </a>
@end

@slot('main')
  <div class="card">
    <div class="card-header">
      <h2 class="card-title">All Administrators</h2>
    </div>

    @if(admins.length === 0)
      <div style="text-align: center; padding: 40px; color: #6b7280;">
        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ‘¥</div>
        <p style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">No administrators found</p>
        <p style="font-size: 14px;">Get started by adding your first admin user.</p>
      </div>
    @else
      <div style="overflow-x: auto;">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="border-bottom: 2px solid #e5e7eb;">
              <th style="padding: 12px; text-align: left; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">ID</th>
              <th style="padding: 12px; text-align: left; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Name</th>
              <th style="padding: 12px; text-align: left; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Email</th>
              <th style="padding: 12px; text-align: left; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Phone</th>
              <th style="padding: 12px; text-align: left; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Created</th>
              <th style="padding: 12px; text-align: left; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Actions</th>
            </tr>
          </thead>
          <tbody>
            @each(admin in admins)
              <tr style="border-bottom: 1px solid #f3f4f6;">
                <td style="padding: 16px; font-size: 14px; color: #6b7280;">#{{ admin.id }}</td>
                <td style="padding: 16px;">
                  <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;">
                      {{ admin.firstname ? admin.firstname.charAt(0).toUpperCase() : 'A' }}
                    </div>
                    <div>
                      <div style="font-weight: 600; font-size: 14px; color: #1f2937;">
                        {{ admin.firstname }} {{ admin.lastname }}
                      </div>
                      <div style="font-size: 12px; color: #6b7280;">
                        <span style="background: #dbeafe; color: #1e40af; padding: 2px 8px; border-radius: 4px; font-weight: 500;">{{ admin.role }}</span>
                      </div>
                    </div>
                  </div>
                </td>
                <td style="padding: 16px; font-size: 14px; color: #374151;">{{ admin.email || 'N/A' }}</td>
                <td style="padding: 16px; font-size: 14px; color: #374151;">{{ admin.phone || 'N/A' }}</td>
                <td style="padding: 16px; font-size: 14px; color: #6b7280;">
                  {{ admin.createdAt ? admin.createdAt.toFormat('MMM dd, yyyy') : 'N/A' }}
                </td>
                <td style="padding: 16px;">
                  <div style="display: flex; gap: 8px;">
                    <a href="{{ route('admin.admins.edit', { id: admin.id }) }}" class="btn btn-secondary btn-sm">Edit</a>
                    @if(admin.id !== auth.use('web').user.id)
                      <form action="{{ route('admin.admins.delete', { id: admin.id }) }}" method="POST" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this admin?')">
                        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                      </form>
                    @end
                  </div>
                </td>
              </tr>
            @end
          </tbody>
        </table>
      </div>
    @end
  </div>

  <style>
    table tr:hover {
      background-color: #f9fafb;
    }
  </style>
@end
@end
